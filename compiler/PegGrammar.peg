# PEG grammar of PEG grammars.

Terminals:
    "lowerId" = Token(kind = TokenKind.LowerId, ..)
    "Terminals" = Token(kind = TokenKind.UpperId, text = "Terminals", ..)
    ":" = Token(kind = TokenKind.Colon, ..)
    "INDENT" = Token(kind = TokenKind.Indent, ..)
    "DEDENT" = Token(kind = TokenKind.Dedent, ..)
    "NEWLINE" = Token(kind = TokenKind.Newline, ..)
    "+" = Token(kind = TokenKind.Plus, ..)
    "?" = Token(kind = TokenKind.Question, ..)
    "*" = Token(kind = TokenKind.Star, ..)
    "_" = Token(kind = TokenKind.Underscore, ..)
    "-" = Token(kind = TokenKind.Minus, ..)
    "=" = Token(kind = TokenKind.Eq, ..)
    "(" = Token(kind = TokenKind.LParen, ..)
    ")" = Token(kind = TokenKind.RParen, ..)
    "Str" = Token(kind = TokenKind.Str, ..)
    "ANY" = Token(..)

topDecls:
    topDecl+

topDecl:
    terminalsDecl
    nonTerminalDecl

terminalsDecl:
    "Terminals" ":" "NEWLINE" "INDENT" terminalDecl+ "DEDENT"

terminalDecl:
    "Str" "=" (-"NEWLINE" "ANY")+ "NEWLINE"

nonTerminalDecl:
    "lowerId" ":" "NEWLINE" "INDENT" nonTerminalAlt+ "DEDENT"

nonTerminalAlt:
    symbol+ "NEWLINE"

symbol:
    symbolPrefix? symbolNonRec symbolSuffix?

symbolPrefix:
    "-"
    "_"

symbolNonRec:
    "lowerId"
    "Str"
    "(" symbol+ ")"

symbolSuffix:
    "*"
    "+"
    "?"
